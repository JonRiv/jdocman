<!DOCTYPE html>
<html>
  <head>
    <title>Task Manager</title>
    <link rel="shortcut icon" href="favicon.png" type="image/png"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="lib/jqm/jquery.mobile-1.4.0-rc.1.css" rel="stylesheet">
    <script data-main="main" src='lib/requirejs/require.js'></script>
  </head>
  <body>
    <div data-role="page" id='details-page'>
 
      <div data-role="header" data-position="fixed">
        <a href="#" data-role="button" data-rel="back"
          data-icon="arrow-l" data-mini="true"
          data-i18n="header.back">
          Back
        </a>
        <h2 data-i18n="header.details">
          Details
        </h2>
      </div><!-- /header -->
 
      <div data-role="content">
        <div id="details-container"></div>
      </div><!-- /content -->
 
      <div data-role="footer" data-position="fixed">

        <div data-role="navbar" data-iconpos="left">
          <ul>
            <li>
              <a href="index.html" data-icon="home"
                 data-i18n="navbar.home">
                Home
              </a>
            </li>
            <li>
              <a href="projects.html"
                 data-i18n="navbar.projects">
                Projects
              </a>
            </li>
            <li>
              <a href="tasks.html"
                 class="ui-btn-active"
                 data-i18n="navbar.tasks">
                Tasks
              </a>
            </li>
            <li>
              <a href="settings.html" data-icon="gear"
                 data-i18n="navbar.settings">
                Settings
              </a>
            </li>
          </ul>
        </div><!-- /navbar -->

      </div><!-- /footer -->

      <script id="details-template" type="text/x-handlebars-template">
        <form>
          <input type="hidden" id="task-id" value="{{task._id}}" />

          <div data-role="fieldcontain">
            <label for="task-title" data-i18n="details.title">
              Title:
            </label>
            <input type="text" name="title" id="task-title" value="{{task.title}}" />
          </div>

          <div data-role="fieldcontain">
            <label for="task-start" data-i18n="details.start">
              Begin date:
            </label>
            <input type="date" name="start" id="task-start" value="{{asYMD task.start}}" />
          </div>

          <div data-role="fieldcontain">
            <label for="task-stop" data-i18n="details.stop">
              End date:
            </label>
            <input type="date" name="stop" id="task-stop" value="{{asYMD task.stop}}" />
          </div>

          <div data-role="fieldcontain">
            <label for="task-project" class="select"
                  data-i18n="details.project">
              Project:
            </label>
            <select name="project-select" id="task-project" data-role="select">
              {{#projects}}
              <option value="{{doc.project}}">{{doc.project}}</option>
              {{/projects}}
            </select>
          </div>

          <div data-role="fieldcontain">
            <label for="task-state" class="select"
                  data-i18n="details.state">
              State:
            </label>
            <select name="state-select" id="task-state" data-role="select">
              {{#states}}
              <option value="{{doc.state}}">{{t doc.state}}</option>
              {{/states}}
            </select>
          </div>

          <div data-role="fieldcontain">
            <label for="task-description" data-i18n="details.description">
                Description:
            </label>
            <textarea name="description" id="task-description">{{task.description}}</textarea>
          </div>

          <div data-role="fieldcontain">
            {{#if task._id}}
            <a href="#" data-role="button"
              id="task-delete"
              data-icon="delete"
              data-inline="true"
              data-i18n="details.delete">
              Delete
            </a>
            {{else}}
            <a href="#" data-role="button"
              data-rel="back"
              data-icon="cancel"
              data-inline="true"
              data-i18n="details.cancel">
              Cancel
            </a>
            {{/if}}
            <a href="#" data-role="button"
              id="task-save"
              data-icon="check"
              data-inline="true"
              data-i18n="details.save">
              Save
            </a>
          </div>

        </form>
      </script>

    </div><!-- /page -->

  </body>
</html>
